<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Predictelligence Admin</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
</head>
<body>
  <main class="container">
    <h1>Predictelligence Admin Dashboard</h1>
    <p class="muted">Operational controls for running live prediction, model health checks and history queries.</p>
    <p class="muted"><a href="/">‚Üê Back to public dashboard</a></p>

    <form id="analysisForm" class="card" onsubmit="return false;">
      <label>Postcode <input name="postcode" value="SW1A 1AA" required /></label>
      <label>Property type
        <select name="property_type">
          <option>Semi-detached</option><option>Detached</option><option>Terraced</option><option>Flat</option>
        </select>
      </label>
      <label>Bedrooms <input type="number" name="bedrooms" min="1" value="3" /></label>
      <label>Current valuation <input type="number" name="asking_price" min="50000" step="1000" value="450000" /></label>
      <label>User type
        <select name="user_type">
          <option value="investor">Property Investor</option>
          <option value="first_time_buyer">First Time Buyer</option>
          <option value="home_mover">Home Mover</option>
        </select>
      </label>

      <div class="dashboard-actions">
        <button type="button" id="runPredictionBtn">Run Live Prediction</button>
        <button type="button" id="checkHealthBtn">Check Model Health</button>
        <button type="button" id="loadHistoryBtn">Load Prediction History</button>
      </div>
    </form>

    <section class="card">
      <div id="dashboardStatus" class="muted">Ready.</div>
      <div class="dashboard-grid">
        <article>
          <h3>Prediction API Output</h3>
          <pre id="predictionOutput">{}</pre>
        </article>
        <article>
          <h3>Model Health Output</h3>
          <pre id="healthOutput">{}</pre>
        </article>
        <article>
          <h3>History Output</h3>
          <pre id="historyOutput">[]</pre>
        </article>
      </div>
    </section>
  </main>
  <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
